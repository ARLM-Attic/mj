@using CkgDomainLogic.Equi.Models
@{ var gridName = "GridGrunddatenEquiItems"; }

@(Html.XTelerik()
    .Grid<EquiGrunddaten>()
    .Name(gridName)
    .XAjaxDataBinding("GrunddatenEquiItemsAjaxBinding", "Equi")
    .Columns(columns =>
    {
        columns.XBound(c => c.Erfassungsdatum);
        columns.XBound(c => c.Fahrgestellnummer).ClientTemplate(
                "<a href='#' class='link tooltips' data-original-title='Historie' data-placement='right' onclick='ShowEquiHistorieAjax(\"<#= data.Fahrgestellnummer #>\");'><#= data.Fahrgestellnummer #></a>"
            );
        columns.XBound(c => c.Fahrgestellnummer10, false);
        columns.XBound(c => c.Handelsname);
        columns.XBound(c => c.Kennzeichen);
        columns.XBound(c => c.StandortBez);
        columns.XBound(c => c.Erstzulassungsdatum);
        columns.XBound(c => c.Betrieb);
        columns.XBound(c => c.TechnIdentnummer);
        columns.XBound(c => c.Abmeldedatum);
        columns.XBound(c => c.CocVorhanden);
        columns.XBound(c => c.EingangCoc);
    })
    .XAutoColumnConfiguration()
    .ClientEvents(events => events.XAutoClientEvents(gridName))
    .XPageSize(10)
    .XSort(sortOrder => sortOrder.Add(c => c.Erfassungsdatum).Descending())
    //.Filterable(f => f.Filters(filters => filters.Add(m => m.Abmeldedatum).IsEqualTo(DateTime.Today)))
    .XToolBar("Equi")
)

