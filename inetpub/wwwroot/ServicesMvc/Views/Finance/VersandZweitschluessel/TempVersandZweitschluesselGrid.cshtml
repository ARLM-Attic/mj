@using CkgDomainLogic.Finance.Models
@using CkgDomainLogic.Finance.ViewModels
@model FinanceTempVersandZweitschluesselViewModel 

@{ var gridName = "TempVersandZweitschluesselGrid"; }

<a class="a_btn_mini new"></a>
<h4>
    @Localize.PleaseChooseOneOrMoreVehicles: 
    <span id="FahrzeugAuswahlCount" class="alert alert-success margin-left-15 hide">
        <i class="icon-check"></i><span class="padding-left-5 bold"></span>
    </span>
</h4> 


@(Html.Telerik()
        .Grid<TempVersandZweitschluessel>()
    .Name(gridName)
    .XGroup(gridName)
        .XAjaxDataBinding("TempVersandZweitschluesselAjaxBinding", "Finance")
    .Columns(columns =>
    {

        columns.XBound("")
        .ClientTemplate("<input type='checkbox' name='checkedRecords' <# if (data.IsSelected) { #> checked <# } #> value='<#= data.Fahrgestellnummer #>' onchange='TempVersandZweitschluesselGrid_OnSelectionChange($(this))' />")
        .HeaderTemplate("<input type='checkbox' id='uncheckAllRecords' onchange='TempVersandZweitschluesselGrid_OnAllSelectionChange($(this).is(\":checked\"))' />")
        .Filterable(false);

        
        columns.XBound(c => c.Kennzeichen);       
        columns.XBound(c => c.Fahrgestellnummer);      
        columns.XBound(c => c.Versandadresse);
        columns.XBound(c => c.Versanddatum).Format("{0:dd.MM.yyyy}");                      
    })
    .XAutoColumnConfiguration()
                .ClientEvents(events => events.XAutoClientEvents(gridName).OnLoad("OnLoad_TempVersandZweitschluesselGrid"))
    .XPageSize(10)
        .XSort(sortOrder => sortOrder.Add(c => c.Kennzeichen))
    .ToolBar(commands =>
    {
        commands.FilteredDataCommand("ExportTempVersandZweitschluesselFilteredExcel", "Finance");
        commands.FilteredDataCommand("ExportTempVersandZweitschluesselFilteredPDF", "Finance");
    })
)


<div class="form-horizontal">
    <div class="form-actions">       
            <button type="button" id="SaveMahnsperren" class="btn green hide" onclick=" SaveMahnsperren(); ">@Localize.Delete <i class="m-icon-swapright m-icon-white"></i></button>       
    </div>
</div>


<script type="text/javascript">
    _modelStateValid = '@ViewContext.ViewData.ModelState.IsValid.ToString().ToLower()';
</script>
