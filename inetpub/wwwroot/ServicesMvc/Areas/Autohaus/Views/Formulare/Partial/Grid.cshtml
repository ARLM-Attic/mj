@model CkgDomainLogic.Autohaus.ViewModels.FormulareViewModel
@using CkgDomainLogic.Autohaus.Models
@{
    var gridName = "GridFormulare";

    var zulassungsKreisAsText = Model.Zulassungskreise.FirstOrDefault(m => m.KreisKz == Model.Selektor.Zulassungskreis).KreisBez;
}

<h4 class="margin-bottom-20">@Localize.RegistrationDistrict <span class="bold"> @zulassungsKreisAsText</span>:</h4>

@(Html.XTelerik()
    .XGrid<PdfFormular>()
    .Name(gridName)
    .XAjaxDataBinding("FormulareAjaxBinding", "Formulare")
    .Columns(columns =>
        {
            columns.XBound(c => c.Typ);
            columns.XBound(c => c.DateiPfad).ClientTemplate(
                    "   <a class='btn mini gray tooltips' " +
                    "   data-original-title='" + Localize.DownloadPdfDocument + "' data-placement='right' href='PdfDocumentDownload?docName=<#= data.DateiPfad #>' ><i class='icon-download-alt'></i></a> "
                ).Title("").Sortable(false).Filterable(false);
        })
    .XAutoColumnConfiguration()
    .ClientEvents(events => events.XAutoClientEvents(gridName))
    .XPageSize(10)
    .XSort(sortOrder => sortOrder.Add(c => c.Typ).Ascending())
    .XToolBar("Formulare")
)

